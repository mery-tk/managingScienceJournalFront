<mat-toolbar color="primary" class="mat-elevation-z8">
  <span>Gestion Revue</span>
  <div class="spacer"></div>
  <a mat-button routerLink="/home">Home</a>
  <a mat-button routerLink="/login" *ngIf="!authenticated">Authentification</a>
  <a mat-raised-button color="accent" routerLink="/inscription" *ngIf="!authenticated">Inscription</a>
  <a mat-button [matMenuTriggerFor]="Articles" *ngIf="authenticated && !comite">Articles</a>
  <a mat-button [matMenuTriggerFor]="ArticlesComite" *ngIf="authenticated && comite">Articles</a>
  <a mat-raised-button color="accent" *ngIf="authenticated" (click)="logout()">Logout</a>
</mat-toolbar>
<mat-menu #Articles=matMenu>
  <button  routerLink="/articles"  mat-menu-item>Liste Articles</button>
  <button  routerLink="/addArticle"  mat-menu-item>Ajouter un Article</button>
  <button  routerLink="/mesArticles"  mat-menu-item>Voir mes Articles</button>
  <button  routerLink="/articlesAEvaluer"  mat-menu-item>Articles à Evaluer</button>
</mat-menu>
<mat-menu #ArticlesComite=matMenu>
  <button  routerLink="/listeArticles"  mat-menu-item>Liste Articles</button>
  <button  routerLink="/ArticlesEnCours"  mat-menu-item>Articles En cours d'Evaluation</button>
  <button  routerLink="/articlesRecentes"  mat-menu-item>Articles Recentes</button>
</mat-menu>



<section class="content mt-5 ml-lg-5" >
  <div class="row" style="margin-left: 8%">
	  <div class="col-sm-10 mt-2 ml-lg-5" >
      <div class="card">
        <div class="card-header bg-dark">
          <h1 class="card-title"><strong style="color: white">Liste des Articles</strong></h1>

        </div>
        <!-- /.card-header -->
        <div class="card-body table-responsive p-0" >
		    <div class="form-group" class="float-right">
          <label  class="mat-badge-large ss" >Mot clé:</label>
          <input class="" maxlength="500" type="text" [(ngModel)]="motCle" />
          <button class="btn btn-dark" (click)="chercher(motCle)">chercher</button>
        </div>
          <div class="form-group" class="float-right">
            <label  class="mat-badge-large ss" >Auteur:</label>
            <input class="" maxlength="500" type="text" [(ngModel)]="aut" />
            <button class="btn btn-dark" (click)="chercherParAuteur()">chercher</button>
          </div>


          <table class="table table-hover">
            <thead>
            <tr>
              <th>Titre</th>
              <th>Auteur</th>
              <th>Co-auteurs</th>
              <th colspan="2" align="center">Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let a of articles;" class="clickable"  >
              <td  >{{a.titre}}</td>
              <td >{{auteur[a.idArticle]?.nom}} {{auteur[a.idArticle]?.prenom}}</td>
              <td>
                <ul>
                  <li *ngFor="let auteur of co_auteurs[a.idArticle]">{{auteur?.nom}} {{auteur?.prenom}}</li>
                </ul>
              </td>
              <td> <button class="btn btn-danger" (click)="getInfos(a.idArticle)" >Plus d'infos</button></td>
            </tr>
            </tbody>
          </table>
          <div>
            <p></p>
          </div>


        <div class="container">
        <ul class="pagination pagination-lg">
          <li [ngClass]="{active:i==currentPage}" class="page-item" *ngFor="let p of pages;let i=index">
            <a  class="clickable" class="page-link" (click)="goToPage(i)"> {{i}}</a>
          </li>

        </ul>
      </div>
          <div>
            <p></p>
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
      </div>
    </div>

  </div>
</section>

