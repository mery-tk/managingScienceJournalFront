<mat-toolbar color="primary" class="mat-elevation-z8">
  <span>Gestion Revue</span>
  <div class="spacer"></div>
  <a mat-button routerLink="/home">Home</a>
  <a mat-button [matMenuTriggerFor]="Articles">Articles</a>
  <a mat-raised-button color="accent">Logout</a>
</mat-toolbar>
<mat-menu #Articles=matMenu>
  <button  routerLink="/listeArticles"  mat-menu-item>Liste Articles</button>
  <button  routerLink="/ArticlesEnCours"  mat-menu-item>Articles En cours d'Evaluation</button>
  <button  routerLink="/articlesRecentes"  mat-menu-item>Articles Recentes</button>
</mat-menu>

<div>
<div  *ngIf="mode==1">
<div class="col-sm-11 mt-3 ml-5">
  <div class="card ">
    <div class="card-header bg-dark">
      <h2 class="card-title text-white"><strong>Détails Article {{article.titre}}</strong></h2>
    </div>
    <!-- /.card-header -->
    <!-- form start -->
    <div class="card-body">
      <div style="float: left; ">
        <a (click)="getFile()" onclick="document.getElementById('id01').style.display='block'">
          <img src="assets/imgs/PDF_file_icon.svg" alt="{{article.titre}}"/>
          <p></p>
          <label class="size24 ml-5 text-danger">{{article.contenu}}</label>
        </a>
      </div>
      <div style="float: left; width: 75%" class="ml-5">
        <table class="table table-borderless">
          <tr>
            <td class="size24 font-weight-bold">Titre: </td>
            <td class="size24">{{article.titre}}</td>
          </tr>
          <tr>
            <td class="size24 font-weight-bold">Affiliations: </td>
            <td class="size24">{{article.affiliations}}</td>
          </tr>
          <tr>
            <td class="size24 font-weight-bold">Résumé :</td>
            <td class="size24">{{article.resume}}</td>
          </tr>
          <tr>
            <td class="size24 font-weight-bold">Mots Clés :</td>
            <td class="size24">{{article.motCle}}</td>
          </tr>
          <tr>
            <td class="size24 font-weight-bold">Auteur</td>
            <td class="size24">{{auteur.nom}} {{auteur.prenom}}</td>
          </tr>
          <tr>
            <td class="size24 font-weight-bold">Co-auteurs</td>
            <td class="size24">
              <p *ngFor="let a of co_auteurs">{{a.nom}} {{a.prenom}}</p>
            </td>
          </tr>
        </table>
      </div>
      <div class="spacer card-footer" style="width: 100%; float: left">
        <button class="btn btn-dark " style="width: 100%;" ><strong class="size24" (click)="AccepterArticle(article.idArticle)">Accepter Article</strong></button>
      </div>
      <div class="spacer card-footer" style="width: 100%; float: left">
        <button class="btn btn-dark " style="width: 100%;"><strong class="size24" (click)="RefuserArticle(article)">Refuser Article</strong></button>
      </div>
    </div>
    <!-- /.card-body -->
  </div>
</div>


<div id="id01" class="modal" *ngIf="article!=null">
  <div class="modal-content animate">
    <div class="imgcontainer">
      <h2 style="text-align: center"><strong>{{article.contenu}}</strong></h2>
      <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close">&times;</span>
    </div>
    <div class="container">
      <ngx-extended-pdf-viewer
        [src]="file"
        [textLayer]="true"
        useBrowserLocale="true"
        [filenameForDownload]="article.contenu"
        style="display: block; width: 100%; height: 800px; background-color: #0c5460; text-align: center">
      </ngx-extended-pdf-viewer>
    </div>
  </div>
</div>
</div>


  <div *ngIf="mode==2">
    <div class="col-sm-11 mt-3 ml-5">
      <div class="card ">
        <div class="card-header bg-dark">
          <h2 class="card-title text-white"><strong>Affecter l'Article "{{article.titre}}" à 3 referees</strong></h2>
        </div>
        <!-- /.card-header -->
        <!-- form start -->
        <div class="card-body">
      <div>
      <mat-form-field class="form-group ml-2 mr-3" style="width: 99%">
        <mat-label class="ml-3">Referees: </mat-label>
        <mat-select #select placeholder="selectionner trois referees" class="form-control"  multiple maxlength="3" minlength="3"  [(ngModel)]="selectedReferees" name="selectedReferees">
          <mat-option *ngFor="let a of referees" [value]="a" >{{a.nom}} {{a.prenom}}</mat-option>
        </mat-select>
        <mat-hint align="end" *ngIf="select.value?.length!=3">Veuillez choisir exactement 3 réferees</mat-hint>
      </mat-form-field>
    </div>
<div>
  <button class="btn btn-dark " style="width: 100%;" ><strong class="size24" (click)="affecter()">Affecter ces Referees</strong></button>
</div>
    </div>
  </div>
    </div>
  </div>

</div>
